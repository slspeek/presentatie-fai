Automatiseer je Linux installatie en configuratie met
FAI
Steven L. Speek
Nederlandse Linux Gebruikers Groep

20 september 2025

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

1 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

2 / 39

Download de handout
PDFs:
https://github.com/slspeek/presentatie-fai/releases/latest

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

3 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

4 / 39

Steven L. Speek

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam
Debian gebruiker sinds Sarge (2005)

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam
Debian gebruiker sinds Sarge (2005)
Ontwikkelaar in Python en Java

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam
Debian gebruiker sinds Sarge (2005)
Ontwikkelaar in Python en Java
Linux netwerkbeheerder

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam
Debian gebruiker sinds Sarge (2005)
Ontwikkelaar in Python en Java
Linux netwerkbeheerder
Github: https://github.com/slspeek

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Steven L. Speek

Actief bij Linux020
Docent Linux bij Actief Computer Centrum Amsterdam
Debian gebruiker sinds Sarge (2005)
Ontwikkelaar in Python en Java
Linux netwerkbeheerder
Github: https://github.com/slspeek
Hardloper: Volg mij op Strava

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

5 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

6 / 39

Probleemstelling
Na een Linux installatie ga je telkens een paar dingetjes aanpassen:
Upstream Firefox installeren
Mattermost installeren
Element installeren
VLC installeren
Gnome Tweaks installeren
BASH prompt, met foutmeldingen, configureren
Sneltoetsen instellen
Mooie background instellen
Enzovoorts
Dit kost tijd, en is foutgevoelig. Bovendien had je in die tijd uitleg kunnen
geven over Linux.
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

7 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

8 / 39

Oplossingen
Voor Debian gebaseerde systemen zijn er een paar oplossingen:
Preseed
Eenvoudig
Beperkt
Alleen voor installatie
Mijn preseed bestanden

FAI - Fully Automatic Installation
Zeer volwassen project (sinds 1999)
Goed ontwerp
Mijn FAI configuratie
Mijn FAI commando’s

Ansible
Heel flexibel
Niet specifiek voor Debian
Niet specifiek voor installatie
Vereist SSH toegang
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

9 / 39

Vergelijking van mijn Preseed en FAI

Automatisch
Multiboot
Gebruikersnaam
Live
Live persistentie
Geen Webserver nodig

S.L.Speek (NLLGG)

Mijn preseed

FAI

#
!
!
!
!
#

!
#
#
!
#
!

Automatiseer installatie en configuratie

20 september 2025

10 / 39

Motivatie voor FAI
Nadelen van Mijn Preseed:
Webserver nodig
Bestanden meegeven moeilijk
Moeilijk uitbreidbaar
Amateuristische herbouw van FAI
Geen scheiding mechaniek en configuratie
Geen i18n
Live en installatie zijn niet hetzelfde
Voordelen van FAI:
Goed ontwerp
Volwassen (sinds 1999)
Actief project
Veel voorbeelden
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

11 / 39

Maanschot idee
Draai FAI vanuit het late-command in een preseed.

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

12 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

13 / 39

Wat is FAI?

Fully Automatic Installation
Automatische installatie van Linux systemen
Debian, Ubuntu, Mint, CentOS, Rocky Linux, AlmaLinux, ...
Netwerk installatie
USB installatie
Chroot installatie
Live installatie
Bijwerken van met FAI gemaakte systemen

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

14 / 39

FAI componenten

FAI software
Canoniek https://fai-project.org
Persoonlijk https://github.com/slspeek/fai-cmds toegespitst op
USB installaties en live systemen

FAI configuratie
Canoniek https://github.com/faiproject/fai-config
Persoonlijk https://github.com/slspeek/fai met Nederlandse
GNOME configuraties

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

15 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

16 / 39

Zaken automatiseren in FAI
Een CLASS kan bestaan uit:
Verseisten dat bepaalde CLASSES zijn gedraaid
Pakketten lijst
Antwoorden op debconf vragen
(Configuratie) bestanden
Scripts

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

17 / 39

Zaken automatiseren in FAI
Een CLASS kan bestaan uit:
Verseisten dat bepaalde CLASSES zijn gedraaid
Pakketten lijst
Antwoorden op debconf vragen
(Configuratie) bestanden
Scripts
Hooks
Script dat voor een bepaalde FAI-fase wordt gedraaid
Bijvoorbeeld instsoft om voordat de pakketten worden geı̈nstalleerd
iets te doen

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

17 / 39

Zaken automatiseren in FAI
Een CLASS kan bestaan uit:
Verseisten dat bepaalde CLASSES zijn gedraaid
Pakketten lijst
Antwoorden op debconf vragen
(Configuratie) bestanden
Scripts
Hooks
Script dat voor een bepaalde FAI-fase wordt gedraaid
Bijvoorbeeld instsoft om voordat de pakketten worden geı̈nstalleerd
iets te doen

Lokale pakketten
Variabelen
Disklayout
Tests
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

17 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten
files/ - (Configuratie) bestanden

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten
files/ - (Configuratie) bestanden
scripts/ - Scripts

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten
files/ - (Configuratie) bestanden
scripts/ - Scripts
hooks/ - Hooks

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten
files/ - (Configuratie) bestanden
scripts/ - Scripts
hooks/ - Hooks
debconf/ - Debconf antwoorden
disk config/ - Disklayouts
basefiles/ - Basis bestanden archief
pkgs/ - Lokale pakketten
tests/ - Tests

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Configuratie nader bezien
Configuratie is een map met:
classes/ - Klasse variabelen en afhankelijkheden
package config/ Pakketten lijsten
files/ - (Configuratie) bestanden
scripts/ - Scripts
hooks/ - Hooks
debconf/ - Debconf antwoorden
disk config/ - Disklayouts
basefiles/ - Basis bestanden archief
pkgs/ - Lokale pakketten
tests/ - Tests
Zie voor meer details de FAI Guide over de configuratie
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

18 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

19 / 39

Voorbeeld FANCY BASH PROMPT
Probleem: Je wilt een mooie BASH prompt, die ook aangeeft of het
laatste commando goed ging of niet
user@host:~$ (exit 42)
user@host:~(42)* true
user@host:~$

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

20 / 39

Voorbeeld FANCY BASH PROMPT
Probleem: Je wilt een mooie BASH prompt, die ook aangeeft of het
laatste commando goed ging of niet
user@host:~$ (exit 42)
user@host:~(42)* true
user@host:~$
Conceptuele oplossing: /etc/bash.bashrc moet worden aangepast

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

20 / 39

Voorbeeld FANCY BASH PROMPT
Probleem: Je wilt een mooie BASH prompt, die ook aangeeft of het
laatste commando goed ging of niet
user@host:~$ (exit 42)
user@host:~(42)* true
user@host:~$
Conceptuele oplossing: /etc/bash.bashrc moet worden aangepast
Oplossing:

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

20 / 39

Voorbeeld FANCY BASH PROMPT
Probleem: Je wilt een mooie BASH prompt, die ook aangeeft of het
laatste commando goed ging of niet
user@host:~$ (exit 42)
user@host:~(42)* true
user@host:~$
Conceptuele oplossing: /etc/bash.bashrc moet worden aangepast
Oplossing:
Maak een bestand files/etc/bash.bashrc/FANCY BASH PROMPT
met de aanpassingen

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

20 / 39

Voorbeeld FANCY BASH PROMPT
Probleem: Je wilt een mooie BASH prompt, die ook aangeeft of het
laatste commando goed ging of niet
user@host:~$ (exit 42)
user@host:~(42)* true
user@host:~$
Conceptuele oplossing: /etc/bash.bashrc moet worden aangepast
Oplossing:
Maak een bestand files/etc/bash.bashrc/FANCY BASH PROMPT
met de aanpassingen
Maak een script scripts/FANCY BASH PROMPT/10-copy-file met:
#!/bin/bash
fcopy -M /etc/bash.bashrc

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

20 / 39

Voorbeeld UNATTENDED UPGRADES
Probleem:
Pakket unattended-upgrades moet worden geı̈nstalleerd
Onbeheerde updates moeten worden ingeschakeld
Configuratie om van alle bronnen updates te accepteren

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

21 / 39

Voorbeeld UNATTENDED UPGRADES
Probleem:
Pakket unattended-upgrades moet worden geı̈nstalleerd
Onbeheerde updates moeten worden ingeschakeld
Configuratie om van alle bronnen updates te accepteren
Oplossing:
Maak een bestand package config/UNATTENDED UPGRADES met:
PACKAGES install
unattended-upgrades

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

21 / 39

Voorbeeld UNATTENDED UPGRADES
Probleem:
Pakket unattended-upgrades moet worden geı̈nstalleerd
Onbeheerde updates moeten worden ingeschakeld
Configuratie om van alle bronnen updates te accepteren
Oplossing:
Maak een bestand package config/UNATTENDED UPGRADES met:
PACKAGES install
unattended-upgrades
Maak een bestand debconf/UNATTENDED UPGRADES met:
unattended-upgrades \
unattended-upgrades/enable_auto_updates \
boolean true

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

21 / 39

Voorbeeld UNATTENDED UPGRADES (vervolg)
Oplossing (vervolg):

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

22 / 39

Voorbeeld UNATTENDED UPGRADES (vervolg)
Oplossing (vervolg):
Maak een bestand files/etc/apt/apt.conf.d/\
52unattended-upgrades-local/UNATTENDED UPGRADES met de
configuratie
Unattended-Upgrade::Origins-Pattern {
"origin=*";
};

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

22 / 39

Voorbeeld UNATTENDED UPGRADES (vervolg)
Oplossing (vervolg):
Maak een bestand files/etc/apt/apt.conf.d/\
52unattended-upgrades-local/UNATTENDED UPGRADES met de
configuratie
Unattended-Upgrade::Origins-Pattern {
"origin=*";
};
Maak een script
scripts/UNATTENDED UPGRADES/10-configuration met:
#!/bin/bash
fcopy /apt/apt.conf.d/52unattended-upgrades-local

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

22 / 39

Voorbeeld MATTERMOST

Probleem: Je wilt Mattermost installeren, maar het zit niet standaard in
Debian. Gelukkig heeft extrepo een bron hiervoor

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

23 / 39

Voorbeeld MATTERMOST

Probleem: Je wilt Mattermost installeren, maar het zit niet standaard in
Debian. Gelukkig heeft extrepo een bron hiervoor
Conceptuele oplossing:

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

23 / 39

Voorbeeld MATTERMOST

Probleem: Je wilt Mattermost installeren, maar het zit niet standaard in
Debian. Gelukkig heeft extrepo een bron hiervoor
Conceptuele oplossing:
Installeer extrepo

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

23 / 39

Voorbeeld MATTERMOST

Probleem: Je wilt Mattermost installeren, maar het zit niet standaard in
Debian. Gelukkig heeft extrepo een bron hiervoor
Conceptuele oplossing:
Installeer extrepo
Voeg de Mattermost bron toe

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

23 / 39

Voorbeeld MATTERMOST

Probleem: Je wilt Mattermost installeren, maar het zit niet standaard in
Debian. Gelukkig heeft extrepo een bron hiervoor
Conceptuele oplossing:
Installeer extrepo
Voeg de Mattermost bron toe
Installeer het pakket

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

23 / 39

Voorbeeld MATTERMOST (vervolg)
Concrete oplossing:

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

24 / 39

Voorbeeld MATTERMOST (vervolg)
Concrete oplossing:
Maak een bestand class/MATTERMOST.deps met:
EXTREPO

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

24 / 39

Voorbeeld MATTERMOST (vervolg)
Concrete oplossing:
Maak een bestand class/MATTERMOST.deps met:
EXTREPO
Maak een bestand hooks/instsoft.MATTERMOST met de inhoud:
#! /bin/bash
$ROOTCMD extrepo enable mattermost
$ROOTCMD apt-get update

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

24 / 39

Voorbeeld MATTERMOST (vervolg)
Concrete oplossing:
Maak een bestand class/MATTERMOST.deps met:
EXTREPO
Maak een bestand hooks/instsoft.MATTERMOST met de inhoud:
#! /bin/bash
$ROOTCMD extrepo enable mattermost
$ROOTCMD apt-get update
Maak een bestand package config/MATTERMOST met:
PACKAGES install
mattermost-desktop

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

24 / 39

Volgorde van classes

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

25 / 39

Volgorde van classes

Eerst de afhankelijkheden

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

25 / 39

Volgorde van classes

Eerst de afhankelijkheden
Bij variabelen geldt dat de waarde gezet in de laatste class wint

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

25 / 39

Volgorde van classes

Eerst de afhankelijkheden
Bij variabelen geldt dat de waarde gezet in de laatste class wint
Bij scripts en hooks geldt dat alle scripts worden uitgevoerd in de
volgorde van de classes

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

25 / 39

Volgorde van classes

Eerst de afhankelijkheden
Bij variabelen geldt dat de waarde gezet in de laatste class wint
Bij scripts en hooks geldt dat alle scripts worden uitgevoerd in de
volgorde van de classes
Bij meerdere files van verschillende classes, bepaalt de volgorde welke
file het wordt. De laatste wint. Zie man fcopy

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

25 / 39

Abstract voorbeeld
Een FAI installatie met de classes: CLASS A CLASS B CLASS C, waarbij
CLASS B afhankelijk is van CLASS B 1 en CLASS B 2

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

26 / 39

Abstract voorbeeld
Een FAI installatie met de classes: CLASS A CLASS B CLASS C, waarbij
CLASS B afhankelijk is van CLASS B 1 en CLASS B 2
defclass
leest classes/CLASS B.deps en voegt CLASS B 1 en CLASS B 2 voor
CLASS B in
resultaat: CLASS A CLASS B 1 CLASS B 2 CLASS B CLASS C

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

26 / 39

Abstract voorbeeld
Een FAI installatie met de classes: CLASS A CLASS B CLASS C, waarbij
CLASS B afhankelijk is van CLASS B 1 en CLASS B 2
defclass
leest classes/CLASS B.deps en voegt CLASS B 1 en CLASS B 2 voor
CLASS B in
resultaat: CLASS A CLASS B 1 CLASS B 2 CLASS B CLASS C

defvar
source classes/CLASS A.var
source classes/CLASS B 1.var
source classes/CLASS B 2.var
source classes/CLASS B.var
source classes/CLASS C.var

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

26 / 39

Abstract voorbeeld
Een FAI installatie met de classes: CLASS A CLASS B CLASS C, waarbij
CLASS B afhankelijk is van CLASS B 1 en CLASS B 2
defclass
leest classes/CLASS B.deps en voegt CLASS B 1 en CLASS B 2 voor
CLASS B in
resultaat: CLASS A CLASS B 1 CLASS B 2 CLASS B CLASS C

defvar
source classes/CLASS A.var
source classes/CLASS B 1.var
source classes/CLASS B 2.var
source classes/CLASS B.var
source classes/CLASS C.var

instsoft
pakketten uit packages config/ worden geı̈nstalleerd voor CLASS A
CLASS B 1 CLASS B 2 CLASS B CLASS C
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

26 / 39

Abstract voorbeeld (vervolg)

configure
scripts uit scripts/CLASS A/ worden uitgevoerd
scripts uit scripts/CLASS B 1/ worden uitgevoerd
scripts uit scripts/CLASS B 2/ worden uitgevoerd
scripts uit scripts/CLASS B/ worden uitgevoerd
scripts uit scripts/CLASS C/ worden uitgevoerd

Bij fcopy commando’s geldt dat de file van de laatste class wint.

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

27 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

28 / 39

Profielen

Een profiel heeft:

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

29 / 39

Profielen

Een profiel heeft:
Naam

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

29 / 39

Profielen

Een profiel heeft:
Naam
Beschrijving

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

29 / 39

Profielen

Een profiel heeft:
Naam
Beschrijving
Een geordende lijst van classes

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

29 / 39

Profielen

Een profiel heeft:
Naam
Beschrijving
Een geordende lijst van classes
Profielen kunnen zijn voor:
Desktop
Server
Laptop
Specifiek voor een gebruiker
Specifiek voor een groep gebruikers

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

29 / 39

Voorbeeld profiel ‘Gnome developer’

Inhoud van het bestand class/gnome-developer.profile:
Name: Gnome developer
Description: Gnome desktop met developer tools
(...)
Classes: INSTALL FAIBASE DEBIAN DUTCH CONSOLE_TWEAKS \
ADVANCED_CLI_TOOLS TUX GNOME_CORE BACKGROUND \
FIREFOX DEVELOPER

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

30 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

31 / 39

Mijn FAI repositories
Mijn FAI configuratie
Profielen voor:
GNOME minimaal
GNOME developer
GNOME compleet
XFCE minimaal
Simpel

Nederlandse locale
Eenvoudiger dan https://github.com/faiproject/fai-config
(de canonieke FAI configuratie)

Mijn FAI commando’s
Makefile om snel aan de slag te kunnen
Installeer FAI
Maak een NFS root (het installatie live systeem)
Maak een installatie ISO (eventueel met mirror)
Maak een live ISO voor een profiel
Start een VM met een ISO

Gebruik de instructies in de README.md
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

32 / 39

Verder

FAI project
FAI Guide
Mijn FAI configuratie i.h.b. de class GNOME CORE voor de dconf
configuratie
dconf configuratie voor de favorieten
dconf configuratie voor de sneltoetsen
dconf configuratie voor de extensies

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

33 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

34 / 39

Demo

Demo van FAI live-simpel.iso in libvirt(VM) (Bekijk op
YouTube)
Installatie van gnome-minimaal-demo profiel (Bekijk op YouTube)

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

35 / 39

Over deze presentatie

Gemaakt met LATEX beamer
Broncode: https://github.com/slspeek/presentatie-fai
PDFs: https:
//github.com/slspeek/presentatie-fai/releases/latest
Experimenteren met LATEX beamer:
https://github.com/slspeek/empty-latex-beamer
NLLGG kleuren en logo
Productie van PDFs via LATEX dockerimage
Github Actions workflow met releases

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

36 / 39

Inhoudsopgave
1

Over mij

2

Probleemstelling

3

Verschillende oplossingen

4

Fully Automatic Installation (FAI)

5

FAI Configuratie

6

Voorbeelden van classes

7

Profielen

8

Mijn FAI repositories

9

Demo

10

Vragen
S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

37 / 39

Vragen?

Vragen?

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

38 / 39

Vragen?

Vragen?
Opmerkingen?

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

38 / 39

Vragen?

Vragen?
Opmerkingen?
Verbeteringen?

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

38 / 39

Volg mij op Strava

S.L.Speek (NLLGG)

Automatiseer installatie en configuratie

20 september 2025

39 / 39

